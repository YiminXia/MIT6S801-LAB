# 6.S801实验课-Lab3 page tables

[toc]

## 1. 前言

在本次实验中你将要探究page tables并修改之，使其能够简化函数，简化什么函数？是从user space拷贝数据到kernel space的函数。

> 再开始编码之前，应该先阅读xv6 book的chapter3，跟下面这些源码文件：
>
> * kern/memlayout.h，展示memory的总体布局
> * kern/vm.c，包含大部分virtual memory code
> * kernel/kalloc.c，包含分配与释放物理内存的源码

开始实验之前，先切换分支到`pgtbl`

```bash
git fetch
git checkout pgtbl
make clean
```

## 2. Print a page table(难度：简单)

为了让你了解RISC-V的page tables，也许也有助于将来的调试，你的第一个任务就是写一个函数来时打印page tables的内容

>定义一个函数叫`vmprint()`，她的一个参数应该是`pagetable_t`类型的，然后她可以按照下面的这种格式打印pagetable_t类型入参对应的那个pagetable。在`exec.c`文件的`return argc`之前插入`if(p->pid == 1) vmprint()`，如此可以打印第一个进程的page table。如果通过了`make grade`的`pte printout`测试，你将获得本次作业的全部学分。